<?php//require_once(ROOT_DIR."/classes/entities/band.php");class PlanetInterface extends BasicInterface {		public function __construct($db = null) {		parent::__construct($db);	}		public function getPlanetByPlayer($data)	{		$q = "SELECT CONCAT(  `pl_galaxie` ,  ':',  `pl_system` ,  ':',  `pl_planet` ) AS Planet,pl_name from planeten where pl_spieler = '".$data->player."' order by pl_galaxie,pl_system,pl_planet";				$result=$this->db->query($q);				$bla = 0;				$html = '<table class="auswertung"><tr><th>Planet</th><th>Name</th></tr>';				if ($this->db->get_last_num_rows() > 0)		{ 			while ($row = mysql_fetch_array($result, MYSQL_ASSOC)) 			{				$bla++;								$html .= '<tr>';								foreach($row as $key => $value)				{						if ($key == 'Planet')						{							$html .= '<td><a href="http://uni1.gigrawars.de/galaxie.php?to='.$value.'">'.$value.'</a></td>';						}						else 						{							$html .= '<td>'.$value.'</td>';						}											}				$html .= '</tr>';									if ($bla%30==29) 				{					$html .= '<tr>'.					'		<th>Planet</th>'.					'		<th>Name</th>'.					'	</tr>';				}			}		}		else		{			$html .= '<tr><td colspan="3">Nicht genug Daten gesammelt!</td></tr>';		}		$html .= '</table>';				$resultData = new stdClass;		$resultData->html = $html;		$resultData->title = $data->player;				return new DataResponse(ResultTypes::resultOK,"getAllPlanets",$resultData);	}		public function getAllPlanets($data)	{		$q = "SELECT CONCAT(  `pl_galaxie` ,  ':',  `pl_system` ,  ':',  `pl_planet` ) AS Planet,pl_name,pl_spieler from planeten order by pl_galaxie,pl_system,pl_planet";				$result=$this->db->query($q);				$bla = 0;				$html = '<table class="auswertung"><tr><th>Planet</th><th>Name</th><th>Spieler</th></tr>';				if ($this->db->get_last_num_rows() > 0)		{ 			while ($row = mysql_fetch_array($result, MYSQL_ASSOC)) 			{				$bla++;
				
				$html .= '<tr>';
								foreach($row as $key => $value)				{						if ($key == 'pl_spieler')						{							$html .= '<td><a href="http://uni1.gigrawars.de/playercard.php?p='.$row['Planet'].':1">'.$value.'</a>';							$html .= '<div title="Alle Planeten: '.$row['pl_spieler'].'" class="planet icon" onclick="ajaxMessageBox(\'PlanetInterface\',\'getPlanetByPlayer\',{ player:\''.$row['pl_spieler'].'\' })"></div></td>';						}						else						if ($key == 'Planet')						{							$html .= '<td><a href="http://uni1.gigrawars.de/galaxie.php?to='.$value.'">'.$value.'</a></td>';						}						else						{							$html .= '<td>'.$value.'</td>';						}											}				$html .= '</tr>';									if ($bla%30==29) 				{					$html .= '<tr>'.					'		<th>Planet</th>'.					'		<th>Name</th>'.					'		<th>Spieler</th>'.					'	</tr>';				}			}		}
		else
		{
			$html .= '<tr><td colspan="3">Nicht genug Daten gesammelt!</td></tr>';
		}		$html .= '</table>';				$resultData = new stdClass;		$resultData->html = $html;				return new DataResponse(ResultTypes::resultOK,"getAllPlanets",$resultData);	}	}PlanetInterface::registerInterface();?>